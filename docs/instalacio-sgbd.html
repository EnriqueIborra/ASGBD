<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¦ InstalÂ·laciÃ³ Oracle</title>
  <link rel="stylesheet" href="estilsunitats.css">
  <link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css" />
</head>
<body>

<header>
  <a href="index.html">
    <!--<img src="https://upload.wikimedia.org/wikipedia/commons/5/50/Oracle_logo.svg" alt="Oracle Logo"> -->
    <img src="imgs/ASGBD.png" alt="MÃ²dul ASGBD">
  </a>
  <h1>ASGBD   -    InstalÂ·laciÃ³ Oracle</h1>
</header>

<nav>
  <h3>Ãndex</h3>
  <a href="#edicions">Edicions</a>
  <a href="#versions">Versions</a>
  <a href="#requisits">Requisits</a>
  <a href="#instancia">InstÃ ncia</a>
  <a href="#arquitectura">Arquitectura</a>
  <a href="#ofa">OFA</a>
  <a href="#instalacio">InstalÂ·laciÃ³ Oracle</a>
  <a href="#acces">AccÃ©s a Oracle</a>
  <a href="#pdb">CreaciÃ³ de PDB manualment</a>
  <a href="#conclusions">Conclusions</a>
  <a href="#altres-recursos">Altres Recursos</a>
</nav>

<main>


  
  <section id="edicions">
    <h2>Edicions d'Oracle Database</h2>
  
    <h3>ğŸ§¾ QuÃ¨ Ã©s una ediciÃ³?</h3>
    <p>
      Una <strong>ediciÃ³</strong> dâ€™Oracle Database fa referÃ¨ncia a un conjunt de caracterÃ­stiques i capacitats disponibles segons el perfil de lâ€™usuari (empresa, educaciÃ³, desenvolupador...).
      Cada ediciÃ³ tÃ© un cost, unes limitacions i uns usos recomanats.
    </p>
  
    <h3> Edicions disponibles</h3>
    <ul>
      <li><strong>Enterprise Edition (EE)</strong> â€“ Completa i orientada a empreses grans. Inclou totes les funcionalitats.</li>
      <li><strong>Standard Edition (SE)</strong> â€“ Per petites i mitjanes empreses. Algunes funcionalitats limitades.</li>
      <li><strong>Standard Edition One (SE1)</strong> â€“ VersiÃ³ anterior simplificada de SE (ja descontinuada).</li>
      <li><strong>Standard Edition 2 (SE2)</strong> â€“ Substituta de SE1. Limitada a 2 sockets i 16 fils de CPU.</li>
      <li><strong>Express Edition (XE)</strong> â€“ âœ… GratuÃ¯ta! Limitada en recursos (1 CPU, 2GB RAM, 12GB espai).</li>
      <li><strong>Personal Edition (PE)</strong> â€“ Orientada a desenvolupadors, nomÃ©s disponible en Windows.</li>
      <li><strong>Lite Edition (LE)</strong> â€“ EdiciÃ³ lleugera per a dispositius mÃ²bils (molt poc utilitzada).</li>
      <li><strong>Oracle Database 23ai Free</strong> â€“ âœ… VersiÃ³ moderna gratuÃ¯ta per a educaciÃ³ i proves, successora de XE.</li>
    </ul>
  
    <h3>â˜ï¸ Edicions Cloud</h3>
    <p>
      Oracle ofereix tambÃ© les edicions anteriors com a serveis al nÃºvol (Oracle Cloud Infrastructure) amb diversos nivells de rendiment i preu:
    </p>
    <ul>
      <li><strong>Cloud Service SE</strong></li>
      <li><strong>Cloud Service EE</strong></li>
      <li><strong>Cloud Service EE â€“ High Performance</strong></li>
      <li><strong>Cloud Service EE â€“ Extreme Performance</strong></li>
      <li><strong>Exadata Cloud Service</strong></li>
    </ul>
  
    <h3>âš™ï¸ Tipus dâ€™instalÂ·laciÃ³ (Ãºs)</h3>
    <p>A mÃ©s de lâ€™ediciÃ³, Oracle es pot desplegar amb diferents arquitectures dâ€™instalÂ·laciÃ³:</p>
    <ul>
      <li><strong>Standalone</strong> â€“ InstalÂ·laciÃ³ simple en un sol host (mÃ©s comuna)</li>
      <li><strong>Grid Infrastructure</strong> â€“ Per suport a Oracle ASM i RAC</li>
      <li><strong>Oracle RAC (Real Application Cluster)</strong> â€“ Per entorns de clÃºster amb alta disponibilitat</li>
      <li><strong>Oracle Autonomous Database</strong> â€“ BD al nÃºvol d'Oracle que utilitza intelÂ·ligÃ¨ncia artificial i aprenentatge automÃ tic per autogestionar-se</li>
    </ul>
  
    <h3> Recomanacions prÃ ctiques</h3>
    <ul>
      <li> Per entorns de formaciÃ³ i desenvolupament: <strong>Express Edition (XE)</strong> o <strong>Oracle Free 23ai</strong></li>
      <li> Per empreses mitjanes: <strong>Standard Edition 2 (SE2)</strong></li>
      <li> Per empreses grans amb requisits avanÃ§ats: <strong>Enterprise Edition (EE)</strong></li>
      <li> Per escalar i automatitzar: considera <strong>OCI Cloud Services</strong> amb RAC o Exadata</li>
    </ul>
  
    <h3>ğŸ”— Recursos</h3>
    <ul>
      <li><a href="https://soyundba.com/2021/05/19/diferencias-entre-enterprise-standard-standard-one-personal-y-express/" target="_blank">ComparaciÃ³ entre edicions (SoyUnDBA)</a></li>
      <li><a href="https://www.oracle.com/database/free/" target="_blank">Oracle Free 23ai (oficial)</a></li>
      <li><a href="https://www.oracle.com/es/database/technologies/appdev/xe.html" target="_blank">Express Edition (21c XE)</a></li>
    </ul>
    <p class="tips">(Practica ğŸ§ª) <a href="https://github.com/EnriqueIborra/ASGBD/blob/6e076602d64271984c39ce27b6ddea544ff78443/UD1/desplegar%20ORACLEdb23%20sobre%20Docker_simplif.pdf" target="_blank">
       Primer contacte amb Oracle Database</a></p>
  </section>



  <section id="versions">
    <h2>Versions dâ€™Oracle Database</h2>
  
    <h3>ğŸ§¾ QuÃ¨ Ã©s una versiÃ³?</h3>
    <p>
      La <strong>versiÃ³</strong> dâ€™Oracle fa referÃ¨ncia a la numeraciÃ³ del programari que indica les funcionalitats disponibles, el motor de base de dades i el model dâ€™arquitectura utilitzat.
      Exemples: <code>11g</code>, <code>12c</code>, <code>18c</code>, <code>19c</code>, <code>21c</code>, <code>23ai</code>
    </p>
  
    <h3>ğŸ“‹ Llista de versions populars</h3>
    <ul>
      <li> <strong>Oracle 11g</strong> â€“ Ãšltima versiÃ³ no multitenant (encara usada en entorns legacy)</li>
      <li> <strong>Oracle 12c</strong> â€“ IntroducciÃ³ de lâ€™arquitectura multitenant (CDB + PDB)</li>
      <li> <strong>Oracle 18c</strong> â€“ VersiÃ³ basada en la nÃºvol (Oracle Autonomous)</li>
      <li> <strong>Oracle 19c</strong> â€“ VersiÃ³ LTS (Long Term Support), molt estable i actual</li>
      <li> <strong>Oracle 21c</strong> â€“ Exclusivament multitenant (no es permet el model tradicional)</li>
      <li> <strong>Oracle 23ai</strong> â€“ Orientada a AI i machine learning, versiÃ³ mÃ©s moderna i gratuÃ¯ta disponible com a â€œOracle Freeâ€</li>
    </ul>
  


    <h3>ğŸ“¦ Tipus dâ€™Ãºs (instalÂ·laciÃ³)</h3>
    <p>
      A mÃ©s de la versiÃ³ i ediciÃ³, Oracle es pot instalÂ·lar amb diferents modalitats de funcionament:
    </p>
    <ul>
      <li><strong>Standalone</strong> â€“ InstalÂ·laciÃ³ tÃ­pica en una sola mÃ quina</li>
      <li><strong>Grid Infrastructure</strong> â€“ Per suport a RAC (Real Application Cluster)</li>
      <li><strong>RAC</strong> â€“ ClÃºster de mÃºltiples nodes per alta disponibilitat i escalabilitat</li>
    </ul>
 
   
    <h3>âš ï¸ Consideracions importants</h3>
    <ul>
      <li> A partir dâ€™Oracle <strong>21c</strong>, nomÃ©s es permet el model multitenant (CDB/PDB)</li>
      <li> Ã‰s important triar la versiÃ³ segons:
        <ul>
          <li>Compatibilitat amb lâ€™arquitectura del sistema</li>
          <li>Suport a llarg termini (LTS)</li>
          <li>Requisits de seguretat, escalabilitat i disponibilitat</li>
        </ul>
      </li>
    </ul>
  
    <h3> Resum</h3>
    <ul>
      <li> La versiÃ³ defineix la tecnologia i caracterÃ­stiques disponibles</li>
      <li> A partir de 12c es recomana treballar amb CDB i PDB</li>
      <li> 19c Ã©s la versiÃ³ estable mÃ©s utilitzada en producciÃ³ (fins avui)</li>
      <li> 23ai Ã©s una nova versiÃ³ gratuÃ¯ta orientada a innovaciÃ³</li>
    </ul>
  </section>
  


  
  <section id="requisits">
    <h2>Requisits dâ€™instalÂ·laciÃ³</h2>
  
    <h3> Requisits teÃ²rics</h3>
    <p>Aquests sÃ³n els requisits oficials mÃ­nims especificats per Oracle per instalÂ·lar la base de dades:</p>
  
    <h4> En Windows:</h4>
    <ul>
      <li> MÃ­nim 1GB de memÃ²ria RAM</li>
      <li> 1GB d'espai en la carpeta temporal</li>
      <li> 8GB per a lâ€™SGBD</li>
      <li> Espai addicional per a les BBDD</li>
      <li> ResoluciÃ³ grÃ fica 1024x768 amb 256 colors</li>
      <li> ConnexiÃ³ a Internet</li>
    </ul>
  
    <h4> En Linux:</h4>
    <ul>
      <li> Kernel compatible</li>
      <li> Swap igual a la mida de la RAM</li>
      <li> Requisits similars a Windows quant a espai i connexiÃ³</li>
    </ul>
  
    <p><em>Fonts oficials:</em></p>
    <ul>
      <li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/ntdbi/operating-system-checklist-oracle-database-installation-microsoft-windows.html" target="_blank">Checklist Windows</a></li>
      <li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/operating-system-checklist-for-oracle-database-installation-on-linux.html" target="_blank">Checklist Linux</a></li>
    </ul>
  
    <h3> Requisits realistes</h3>
    <p>Per a una instalÂ·laciÃ³ funcional i estable, Ã©s recomanable:</p>
    <ul>
      <li> Almenys 2GB de RAM</li>
      <li> 2 processadors (CPU)</li>
      <li> 50GB disponibles per al sistema operatiu, Oracle i una BBDD</li>
      <li> Swap = 2 Ã— RAM (en Linux)</li>
      <li> ResoluciÃ³ mÃ­nima: 1024x768 amb 256 colors</li>
      <li> Executar sempre com a administrador des de CMD</li>
    </ul>
  
    <h3> Eines i components importants</h3>
    <p>Durant la instalÂ·laciÃ³ sâ€™inclouen diversos components:</p>
    <ul>
      <li><code>setup</code> â€“ InstalÂ·lador principal del software</li>
      <li><code>dbca</code> â€“ AssistÃ¨ncia per crear la BBDD (CDB/PDB)</li>
      <li><code>netca</code> â€“ ConfiguraciÃ³ del listener de xarxa</li>
      <li><code>netmgr</code> â€“ Gestor de connexions</li>
      <li><code>RMAN</code> â€“ Eina per a cÃ²pies de seguretat</li>
      <li>Clients d'accÃ©s:
        <ul>
          <li>SQL*Plus</li>
          <li>SQL Developer</li>
          <li>SQLcl</li>
          <li>DBeaver</li>
          <li>Enterprise Manager (deprecated)</li>
        </ul>
      </li>
    </ul>
  
    <h3> Resum final</h3>
    <ul>
      <li> Els requisits oficials sÃ³n suficients per provar, perÃ² no recomanables per producciÃ³</li>
      <li> Ã‰s essencial tenir els components bÃ sics preparats abans de la instalÂ·laciÃ³</li>
      <li>âš ï¸ La manca de swap o permisos dâ€™admin pot impedir una instalÂ·laciÃ³ exitosa</li>
    </ul>
  </section>
  



 
  <section id="instancia">
    <h2>InstÃ ncia</h2>
  
    <h3> QuÃ¨ Ã©s una instÃ ncia Oracle?</h3>
    <p>
      Una <strong>instÃ ncia</strong> dâ€™Oracle Ã©s el conjunt de processos en segon pla (<em>background processes</em>) i estructures de memÃ²ria que gestionen l'accÃ©s a una base de dades Oracle.
    </p>
    <ul>
      <li> Cada vegada que sâ€™inicia una instÃ ncia, es crea automÃ ticament una Ã rea de memÃ²ria global anomenada <strong>SGA</strong> (System Global Area)</li>
      <li> TambÃ© es llancen diversos <strong>processos en background</strong> que gestionen lâ€™entrada/sortida, la recuperaciÃ³, el buffer cache, etc.</li>
      <li> Quan un usuari es connecta, se li assigna una Ã rea de memÃ²ria personal: la <strong>PGA</strong> (Program Global Area)</li>
    </ul>
  
    <h3> Components de memÃ²ria</h3>
    <ul>
      <li><strong>SGA</strong> â€“ Ã€rea de memÃ²ria compartida entre tots els usuaris connectats a la instÃ ncia</li>
      <li><strong>PGA</strong> â€“ Ã€rea de memÃ²ria privada per cada sessiÃ³/usuari</li>
    </ul>
  
    <p>Es poden consultar amb les segÃ¼ents ordres des de SQL*Plus:</p>
    <pre>
  SQL> show sga;
  SQL> show parameter sga;
  
  SQL> show parameter pga;
    </pre>
  
    <h3> RelaciÃ³ amb la base de dades (BBDD)</h3>
    <p>
      Una instÃ ncia sempre estÃ  associada a una base de dades (BBDD) concreta. Quan sâ€™inicia la instÃ ncia, es carrega la informaciÃ³ necessÃ ria per gestionar aquesta BBDD.
    </p>
    <ul>
      <li> Una instÃ ncia â‡„ una base de dades muntada (normalment una CDB)</li> 
      <li>âš ï¸ Si no sâ€™inicia lâ€™instÃ ncia, no es pot accedir a la base de dades</li>
    </ul>
  
    <h3> Diagrama conceptual</h3>
    <pre>
  [ Usuari ] â†’ [ PGA ]
               |
               â†“
  [ InstÃ ncia Oracle ]
     â”œâ”€â”€ SGA
     â”œâ”€â”€ Processos background (DBWn, LGWR, CKPT, etc.)
     â†“
  [ Fitxers de la base de dades (BBDD) ]
    </pre>
  
    <h3> Notes tÃ¨cniques</h3>
    <ul>
      <li> Una mateixa mÃ quina pot tindre diverses instÃ ncies (una per SID)</li>
      <li> Ã‰s possible connectar-se a una instÃ ncia sense obrir la base de dades (per manteniment)</li>
      <li> La instÃ ncia i la base de dades estan lligades perÃ² sÃ³n components separats</li>
    </ul>
  
    <p><strong>ConclusiÃ³:</strong> Sense instÃ ncia, la base de dades no pot operar. I sense base de dades, la instÃ ncia no tÃ© sentit.</p>
  </section>
  

 

  <section id="arquitectura">
    <h2>Arquitectura dâ€™Oracle</h2>
  
    <h3> Arquitectura tradicional (non-CDB)</h3>
    <img src="imgs/bdnoncdb.png" class="imatge-esquerra"  alt="BD non cdb" style="width: 8%">
    <p>
      Abans de la versiÃ³ 12c, Oracle utilitzava una arquitectura tradicional on una instÃ ncia del SGBD controlava una Ãºnica base de dades (una sola estructura de fitxers).
    </p>
    <ul>
      <li> Cada instÃ ncia â†” una Ãºnica BBDD</li>
      <li> Sense contenidors ni BBDD â€œpluggableâ€</li>
      <li> MÃ©s senzill perÃ² menys flexible</li>
    </ul>
  
    <h3> Arquitectura multitenant (CDB/PDB)</h3>
    <img src="imgs/bdmultit.png" class="imatge-esquerra"  alt="BD non cdb" style="width: 18%">
    <p>A partir dâ€™Oracle 12c, es va introduir lâ€™<strong>arquitectura multitenant</strong>:</p>
    <ul>
      <li><strong>CDB</strong> (Container Database): base de dades contenedora</li>
      <li><strong>PDB</strong> (Pluggable Database): bases de dades encapsulades dins dâ€™una CDB</li>
    </ul>
  
    <p>Exemple dâ€™una estructura multitenant:</p>
    <pre>
  CDB$ROOT       â†’ Contenidor principal
  PDB$SEED       â†’ Plantilla de clonaciÃ³ de PDBs
  PDB1, PDB2...  â†’ Pluggable Databases (Ãºtils per treballar)
    </pre>
  
    <h3>Arquitectura multitenant (en un SGBD)</h3>
    <img src="imgs/variosmultit.png" class="imatge-dreta"  alt="BD non cdb" style="width: 40%">
    <ul>
      <li>Un SGBD dâ€™ORACLE pot gestionar diversos contenidors (CDBs)</li>
      <li>Cada contenidor es una BBDD / <strong>InstÃ ncia</strong> diferent</li>
      <li>Cada contenidor pot tindre dins diferents PDBs</li>
    </ul>

    <h3> Notes importants sobre multitenant</h3>
    <ul>
      <li> Es poden tindre diverses PDBs funcionant en paralÂ·lel dins dâ€™una mateixa CDB</li>
      <li> Permet millorar lâ€™escalabilitat, la seguretat i el manteniment</li>
      <li>âš ï¸ A partir de la versiÃ³ <strong>Oracle 21c</strong>, nomÃ©s es permet lâ€™arquitectura multitenant</li>
    </ul>
  
    <h3> DiferÃ¨ncies entre arquitectures</h3>
    <table border="1" cellpadding="8" style="border-collapse: collapse; margin-top: 10px;">
      <thead>
        <tr style="background-color: #f0f4f8;">
          <th>CaracterÃ­stica</th>
          <th>Traditional (non-CDB)</th>
          <th>Multitenant (CDB/PDB)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>InstÃ ncia â†” BBDD</td>
          <td>1 â†” 1</td>
          <td>1 â†” mÃºltiples PDBs</td>
        </tr>
        <tr>
          <td>SeparaciÃ³ lÃ²gica</td>
          <td>No</td>
          <td>SÃ­ (cada PDB Ã©s independent)</td>
        </tr>
        <tr>
          <td>Compatibilitat amb 21c</td>
          <td>âŒ</td>
          <td>âœ… ObligatÃ²ria</td>
        </tr>
      </tbody>
    </table>
  
    <h3> Beneficis de lâ€™arquitectura multitenant</h3>
    <ul>
      <li> Millor gestiÃ³ de recursos</li>
      <li> MÃ©s fÃ cil de clonar, fer backups i upgrades</li>
      <li> ReducciÃ³ del cost de manteniment</li>
      <li> Ideal per a entorns cloud i consolidaciÃ³</li>
    </ul>
  
    <h3> Resum</h3>
    <ul>
      <li> Lâ€™arquitectura multitenant Ã©s lâ€™estÃ ndard actual</li>
      <li> Cada PDB Ã©s com una base de dades separada, perÃ² comparteixen instÃ ncia amb la CDB</li>
      <li> Lâ€™arquitectura tradicional ja no Ã©s vÃ lida per a noves versions</li>
    </ul>
  </section>
  



  <section id="ofa">
    <h2>OFA â€“ Oracle Flexible Architecture</h2>
  
    <h3> QuÃ¨ Ã©s lâ€™OFA?</h3>
    <p>
      Lâ€™<strong>OFA (Oracle Flexible Architecture)</strong> Ã©s un estÃ ndard de disseny de l'estructura de directoris i nomenclatura de fitxers en instalÂ·lacions Oracle. 
      EstÃ  pensat per a:
    </p>
    <ul>
      <li> Organitzar eficientment grans volums de dades i software</li>
      <li> Facilitar lâ€™administraciÃ³ i manteniment</li>
      <li> Millorar el rendiment</li>
      <li> Permetre gestionar mÃºltiples bases de dades en un mateix sistema</li>
    </ul>
  
    <h3>ğŸ“ Exemples de rutes segons el sistema operatiu</h3>
  
    <p><strong>ğŸ–¥ï¸ En Windows:</strong></p>
    <pre>C:\app\oracle\product\21.0.0\dbhome_1</pre>
  
    <p><strong>ğŸ§ En Unix/Linux:</strong></p>
    <pre>/u01/app/oracle/product/21.0.0/dbhome_1</pre>
  
    <p>On:</p>
    <ul>
      <li><code>/u01</code> Ã©s el punt de muntatge principal</li>
      <li><code>oracle</code> Ã©s el nom de lâ€™usuari que instalÂ·la</li>
      <li><code>product</code> contÃ© diferents versions del software</li>
      <li><code>21.0.0</code> Ã©s la versiÃ³ instalÂ·lada</li>
    </ul>
  
    <h3>ğŸ‘¤ Lâ€™usuari instalÂ·lador</h3>
    <p>
      El directori <code>oracle</code> fa referÃ¨ncia normalment a lâ€™usuari del sistema operatiu que executa la instalÂ·laciÃ³. Aquest usuari ha de tindre permisos dâ€™administrador en Windows o pertÃ nyer al grup <code>oinstall</code> i <code>dba</code> en Linux.
    </p>
  
    <h3>âš ï¸ Recomanacions</h3>
    <ul>
      <li> No instalÂ·lar Oracle directament a <code>C:\</code> o <code>/</code>. Usa rutes separades com <code>/u01</code> per mantenir-ho organitzat.</li>
      <li> Usa el mateix esquema per a totes les versions i entorns (dev, test, prod).</li>
      <li> No modificar lâ€™estructura creada automÃ ticament per Oracle.</li>
    </ul>
  
    <h3>ğŸ”— Recursos addicionals</h3>
    <p>
      Pots consultar mÃ©s informaciÃ³ sobre OFA als segÃ¼ents enllaÃ§os:
      <ul>
        <li><a href="https://orlandoolguin.wordpress.com/2010/08/23/que-es-la-ofa/" target="_blank">QuÃ¨ Ã©s lâ€™OFA? (Orlando Olguin)</a></li>
        <li><a href="https://docs.oracle.com" target="_blank">DocumentaciÃ³ oficial Oracle</a></li>
      </ul>
    </p>
  </section>
  
 

  <section id="instalacio">
    <h2>InstalÂ·laciÃ³ Oracle</h2>
  
    <h3>ProcÃ©s general dâ€™instalÂ·laciÃ³</h3>
    <p>InstalÂ·lar un SGBD Oracle i crear una BBDD (CDB + PDB) sÃ³n processos diferents, encara que el mateix assistent pot fer-ho tot alhora.</p>
  
    <h3>Des de Windows</h3>
    <img src="imgs/icosetup.png" class="imatge-esquerra"  alt="BD non cdb" style="width: 10%">
    <ul>
      <li>Es fa servir un <strong>executable (setup.exe)</strong> que guia la instalÂ·laciÃ³ del software.</li>
      <li>Abans dâ€™executar <code>setup.exe</code>, cal <strong>crear usuaris al sistema operatiu</strong>:</li>
      <ul>
        <li>Exemple:
          <ul>
            <li><code>admin</code>: usuari principal (amb permisos d'administrador)</li>
            <li><code>oracle</code>: usuari per executar la instalÂ·laciÃ³ (tambÃ© amb permisos d'administrador)</li>
            <li><code>usuari1</code>: usuari sense permisos</li>
          </ul>
        </li>
      </ul>
      <li>Ã‰s important executar el setup amb lâ€™usuari <strong>oracle</strong> des de CMD amb permisos d'administrador.</li>
    </ul>
    <p>(no cal que l'usuari instalÂ·lador s'anomene <strong>oracle</strong>, pot ser altre nom)</p>
  
    <h3>Opcions de setup</h3>
    <p>Durant lâ€™execuciÃ³ de <code>setup.exe</code> es poden escollir diferents opcions:</p>
    <ul>
      <li><strong>InstalÂ·laciÃ³ nomÃ©s del software:</strong> Ã©s l'opciÃ³ recomanada. Es fa servir desprÃ©s <code>dbca</code> per crear la base de dades.</li>
      <li><strong>InstalÂ·laciÃ³ del software amb creaciÃ³ de CDB + PDB :</strong> no Ã©s lâ€™opciÃ³ que utilitzarem.</li>
    </ul>
    <p class="alert"> âš ï¸ No executar <code>setup.exe</code> mÃ©s dâ€™una vegada!</p>
  
    <h3>CreaciÃ³ de la base de dades (CDB + PDB)</h3> 
    <ul>
      <li>Es fa amb lâ€™eina <code>dbca</code> (Database Configuration Assistant).</li>
      <li>Executar des de CMD amb permisos dâ€™administrador:
        <pre>C:\Windows\system32> dbca</pre>
      </li>
      <li>Lâ€™usuari que fa la instalÂ·laciÃ³ passa a ser lâ€™<strong>usuari instalÂ·lador del SGBD</strong>.</li>
      <li>Al final del procÃ©s, es mostra la <strong>ruta del fitxer de log</strong> de la instalÂ·laciÃ³.</li>
    </ul>
  
    <h3>CreaciÃ³ de mÃ©s  PDB</h3>
    <p>TambÃ© es fa amb <code>dbca</code>:</p>
    <ul>
      <li>CMD amb permisos dâ€™administrador:</li>
      <pre>C:\Windows\system32> dbca</pre>
      <li>TambÃ© pot executar-se com a:
        <ul>
          <li>Usuari instalÂ·lador</li>
          <li>Usuari administrador amb credencials SYS</li>
        </ul>
      </li>
    </ul>
  
      
    <h3>InstalÂ·laciÃ³ / creacio del LISTENER</h3>
    <p>Una vegada instalÂ·lat el SW i la BBDD , s'ha d'instalÂ·lar el LISTENER.</p>
    <pre>C:\Windows\system32> netca</pre>
      <ul>
        <li>âš ï¸ El LISTENER S'ha d'instalÂ·lar amb permisos d'<strong>administrador</strong></li>
        <li>Primer, agregar un listener</li>
        <li>DesprÃ©s, configurar els mÃ¨todes de nomenclatura </li>
        <ul>
          <li>nomenclatura local</li>
          <li>nomenclatura de connexiÃ³ senzilla</li>
        </ul>
      </ul>

    <p><strong>Resum:</strong></p>
    <ul>
      <li>Crear usuaris S.O.</li>
      <li>Executar <code>setup.exe</code> amb usuari <code>oracle</code></li>
      <li>Seleccionar â€œNomÃ©s instalÂ·laciÃ³ del softwareâ€</li>
      <li>DesprÃ©s, crear la CDB i PDB amb <code>dbca</code></li>
      <li>DesprÃ©s, crear noves PDB amb <code>dbca</code>, i tambÃ© esborrar</li>
    </ul>

    <h3>Primera instalÂ·laciÃ³</h3>
    <p>Una vegada es tenen tots els requisits preparats, es realitza la primera
       instalÂ·laciÃ³ dâ€™Oracle amb lâ€™usuari designat per a ser usuari instalÂ·lador, per exemple  <code>oracle</code>.</p>
  </section>
  

  <section id="stop">
    <img src="imgs/stop.png" class="imatge-esquerra"  alt="stop" style="width: 6%">
    <h2>Abans de continuar.... </h2>
    <h1>Realitzem la nostra primera instalÂ·laciÃ³ dâ€™ORACLE</h1>

  </section>



  <section id="acces">
    <h2>AccÃ©s a Oracle</h2>
    <p>DesprÃ©s de tindre acabada la instalÂ·laciÃ³, hem de comprovar que es pot accedir a la instÃ ncia.</p>
    <h3> Des de Windows (sqlplus)</h3>
    <p>Obrir una finestra de CMD com a <strong>usuari instalÂ·lador</strong> i executar la ordre <code>sqlplus</code></p>
    <pre>C:\Users\oracle> sqlplus / as SYSDBA</pre>
  
    <p>Esta ordre ens connecta a la CDB principal apuntada per ORACLE_SID. Una vegada dins de SQL*Plus, 
      es poden utilitzar ordres Ãºtils:</p>
    <div class="pre-container">
      <span class="code-type">SQL</span>
      <button class="copy-button">â§‰ COPIA Codi !</button>
      <pre>
  show user;
  show con_name;             -- Nom del contenidor actiu
  select name from v$database;
  show pdbs;                -- Mostra les PDB disponibles
  conn system                -- Connecta com SYSTEM
  show sga;
  disc;                      -- Desconnecta
  exit;
     </pre>
  </div>
   <p>Les ordres SHOW PDBS, SHOW USER,  sÃ³n instruccions especials de l'entorn SQL*Plus (
    o eines compatibles com SQLcl), no formen part de SQL estÃ ndard ni de PL/SQL.
  La ordre SELECT si Ã©s una ordre SQL</p>
  <pre>
Les ordres sqlplus solen ser ALIAS de consultes SQL. 
Per exemple SHOW PDBS es pot fer amb:
SELECT CON_ID, NAME, OPEN_MODE, RESTRICTED FROM V$PDBS; 
SELECT * FROM DBA_PDBS;     </pre>
  
    <h3>ğŸ” ConnexiÃ³ directa a una PDB</h3>
    <pre>
  C:\Users\oracle> sqlplus /@localhost/NOMPDB as SYSDBA
  
  SQL> show user;
  SQL> show con_name;
  SQL> show pdbs;
  SQL> select name, open_mode from v$pdbs;
    </pre>
  
    <p>TambÃ© es pot connectar com SYSTEM amb contrasenya:</p>
    <pre>
  SQL> conn system/1234@localhost/NOMPDB
  SQL> show sga;
  SQL> show user;
    </pre>
    <p>âš ï¸ SYS i SYSTEM sÃ³n usuaris diferents</p>
  
    <h3>ğŸ”„ Canvi de contenidor</h3>
    <p>Per passar dâ€™una CDB a una PDB, o viceversa:</p>
    <pre>
  SQL> alter session set container=NOMPDB;
  SQL> show con_name;
  SQL> alter session set container=CDB$ROOT;
    </pre>
  
    <h3>ğŸ§ Des de Linux</h3>
    <p>Des de terminal amb usuari <code>oracle</code>:</p>
    <pre>
  $ . oraenv                  # Carrega l'entorn Oracle
  $ lsnrctl start             # Inicia el listener
  $ sqlplus / as SYSDBA       # ConnexiÃ³ com SYS
    </pre>
  
    <p>Una vegada dins:</p>
    <div class="pre-container">
      <span class="code-type">SQL</span>
      <div class="copy-button">â§‰ COPIA Codi</div>
    <pre>
   startup;
   show con_name;
   show pdbs;
   alter session set container=NOM_PDB;
   conn system;
   disc;      </pre>
    </div>
  
    <h3>âš ï¸ Consideracions importants</h3>
    <ul>
      <li> NomÃ©s lâ€™usuari que ha fet la instalÂ·laciÃ³ pot entrar com <code>SYSDBA</code> sense contrasenya.</li>
      <li> Si les variables dâ€™entorn no estan carregades (en Linux <code>'. oraenv'</code>), no es podrÃ  iniciar <code>sqlplus</code> correctament.</li>
      <li> <strong>CON_ID=1</strong> representa la CDB, perÃ² no sempre es mostra amb <code>show pdbs</code>.</li>
    </ul>
  
    <h3> QuÃ¨ Ã©s SQL*Plus?</h3>
    <p>Ã‰s un client per lÃ­nia dâ€™ordres proporcionat per ORACLE que permet executar SQL, PL/SQL i ordres especÃ­fiques d'sqlplus. 
      Ã‰s una de les eines mÃ©s antigues i utilitzades per administradors i desenvolupadors.
    </p>
    <ul>
      <li> Ideal per fer proves rÃ pides i administraciÃ³ local</li>
      <li> Permet connectar localment o remotament</li>
      <li> Permet executar scripts</li>
    </ul>
    <p>Es poden obrir mÃºltiples finestres de <code>CMD + sqlplus</code> i cada una tindrÃ  una sessiÃ³ diferent.</p>
  
    <pre>
  SQL> help index
  SQL> help show
    </pre>

    <h3> Altres maneres d'accedir a la instÃ ncia:</h3>
    <ul>
      <li> Utilitzant SQL Developer</li>
      <li> Utilitzant  Visual Studio Code + ExtensiÃ³ SQL Developer</li>
      <li> Utilitzant DBeaver ( multi-SGBD sw lliure)</li>
      <li> Utilitzant TOAD  (multi-SGBD propietari)</li>
      <li> Utilitzant SQLcl</li>
      <li> Utilitzant ORDS</li>  
    </ul>
    <p>En cada soluciÃ³, es posible que les connexions es preparen de forma diferent
    En SQL Developer, cal afegir primer una connexiÃ³, configurar-la, guardar-la, 
      i desprÃ©s, queda gravada. Cuan es vol connectar, sols es fa doble-click a sobre, 
      i s'inicia la connexiÃ³. En VSCode, DBaver, TOAD, funciona igual</p>  

  </section>
  

  <section id="pdb">
    <h2>CreaciÃ³ de PDB manualment</h2>
  
    <h3> InformaciÃ³ general</h3>
    <p>
      Les <strong>PDBs</strong> (Pluggable Databases) es poden crear de forma manual mitjanÃ§ant SQL des de lâ€™usuari <code>SYS</code>, sempre connectat a la <strong>CDB</strong> (no des dâ€™una altra PDB!).
    </p>
    <p>
      Aquesta opciÃ³ ofereix mÃ©s control sobre noms, ubicacions, contrasenyes i configuraciÃ³ de la base de dades.
      Permet integrar-ho en scripts i automatitzar la creaciÃ³ de PDBs, 
      sent ideal per entorns de desenvolupament, testing o desplegaments massius.
    </p>
    <p>El codi es pot posar dins un .sql i executar-lo des de sqlplus, com per exemple:</p>
    <pre>sqlplus sys/password@CDB1 as sysdba @create_pdb.sql     </pre>
  
    <h3> CreaciÃ³ manual dâ€™una PDB en Windows</h3>
    <p>Des dâ€™una sessiÃ³ SQL*Plus amb lâ€™usuari <code>SYS</code> dins la CDB:</p>
    <div class="pre-container">
      <span class="code-type">SQL</span>
      <button class="copy-button">Copia Codi !</button>
      <pre>
        CREATE PLUGGABLE DATABASE nom_pdb 
        ADMIN USER pdbadmin1 IDENTIFIED BY 1234 
        ROLES = (dba)
        DEFAULT TABLESPACE users;
     </pre>
  </div>    
      
    <p>âš ï¸ Si no sâ€™indica <code>DEFAULT TABLESPACE</code>, la PDB no tindrÃ  un espai per defecte per als usuaris.</p>
  
    <h4>ğŸ—‘ï¸ Esborrar una PDB (Windows):</h4>
    <pre>
  SQL> ALTER PLUGGABLE DATABASE pdb_manual CLOSE IMMEDIATE;
  SQL> DROP PLUGGABLE DATABASE pdb_manual INCLUDING DATAFILES;
    </pre>
  
    <h3>ğŸ§ CreaciÃ³ manual dâ€™una PDB en Linux</h3>
    <p>
      Des de <code>sqlplus</code> com <code>SYS</code> i dins la CDB, podem crear la PDB indicant els fitxers exactes i rutes:
    </p>
    <pre>
  SQL> CREATE PLUGGABLE DATABASE datapdb 
  ADMIN USER pdbadmin1 IDENTIFIED BY 1234 
  ROLES = (dba) 
  PATH_PREFIX = '/opt/oracle/oradata/ORCLCDB/DATAPDB/'
  FILE_NAME_CONVERT = (
    '/opt/oracle/oradata/ORCLCDB/pdbseed/',
    '/opt/oracle/oradata/ORCLCDB/DATAPDB/'
  )
  DEFAULT TABLESPACE users 
  DATAFILE '/opt/oracle/oradata/DATAPDB/users01.dbf' AUTOEXTEND ON;
    </pre>
  
    <h4> Notes Ãºtils:</h4>
    <ul>
      <li> Pots consultar on es troben els fitxers de dades amb:</li>
      <pre>SQL> SELECT name FROM v$datafile;</pre>
      <li> <code>PATH_PREFIX</code> ajuda a identificar la ruta base de la nova PDB</li>
      <li> <code>FILE_NAME_CONVERT</code> copia i adapta fitxers del PDB$SEED</li>
    </ul>
  
    <h4>ğŸ—‘ï¸ Esborrar una PDB (Linux):</h4>
    <pre>
  SQL> ALTER PLUGGABLE DATABASE pdb_manual CLOSE IMMEDIATE;
  SQL> DROP PLUGGABLE DATABASE pdb_manual INCLUDING DATAFILES;
    </pre>
  
    <h3> Recomanacions finals</h3>
    <ul>
      <li> Comprova que estÃ s connectat a la CDB abans de crear la PDB</li>
      <li> Comprova les rutes i permisos del sistema de fitxers si treballes en Linux</li>
      <li>âš ï¸ Asseguraâ€™t de tindre <code>DB_CREATE_FILE_DEST</code> o <code>FILE_NAME_CONVERT</code> correctament configurat</li>
    </ul>
  </section>
  

  <section id="conclusions">
    <h2>Conclusions</h2>
  
    <p>Una vegada finalitzada aquesta unitat, haurÃ s adquirit coneixements essencials sobre la instalÂ·laciÃ³ i administraciÃ³ bÃ sica dâ€™Oracle Database. A continuaciÃ³ es resumeixen els punts clau assolits:</p>
  
    <h3> Versions i edicions</h3>
    <ul>
      <li> Identificar la <strong>versiÃ³ i ediciÃ³</strong> dâ€™Oracle que sâ€™ha dâ€™instalÂ·lar segons el context</li>
      <li> Diferenciar entre les edicions <em>XE, SE, EE</em> i les versions <em>11g, 12c, 19c, 21c...</em></li>
    </ul>
  
    <h3> Requisits i preparaciÃ³</h3>
    <ul>
      <li> ConÃ¨ixer els <strong>requisits mÃ­nims i realistes</strong> per a cada sistema operatiu</li>
      <li> Saber quins <strong>components i eines</strong> formen part de la instalÂ·laciÃ³</li>
    </ul>
  
    <h3> Arquitectura i instÃ ncia</h3>
    <ul>
      <li> Diferenciar entre <strong>BBDD, CDB, PDB, InstÃ ncia, SGA i PGA</strong></li>
      <li> Entendre lâ€™arquitectura multitenant i la seva obligaciÃ³ a partir dâ€™Oracle 21c</li>
      <li> Utilitzar lâ€™<strong>estÃ ndard OFA</strong> per a estructurar les carpetes</li>
    </ul>
  
    <h3> InstalÂ·laciÃ³ del SGBD</h3>
    <ul>
      <li> InstalÂ·lar el <strong>software Oracle</strong> amb <code>setup.exe</code> o <code>runInstaller</code></li>
      <li> Crear una <strong>CDB i PDB</strong> amb lâ€™eina <code>dbca</code></li>
      <li> Crear manualment PDBs o CDBs des de lÃ­nia d'ordres</li>
      <li> Coneixement dels permisos necessaris segons el rol de lâ€™usuari (admin, oracle...)</li>
    </ul>
  
    <h3> ConnexiÃ³ i accÃ©s</h3>
    <ul>
      <li> Connectar-se a una instÃ ncia Oracle amb <strong>SQL*Plus</strong> i <strong>SQL Developer</strong></li>
      <li> Saber com accedir a una CDB o una PDB com <code>SYS</code> o <code>SYSTEM</code></li>
      <li> Consultar lâ€™estat de les PDBs i realitzar canvis de contenidor</li>
    </ul>
  
    <h3> Eines i clients</h3>
    <ul>
      <li> Utilitzar clients com:
        <ul>
          <li><strong>SQL*Plus / SQL Developer / SQLcl </strong></li>
          
          <li><strong>DBeaver / TOAD</strong></li>
          <li><strong>ORDS</strong>, i <strong>VSCode</strong> amb extensions</li>
        </ul>
      </li>
      <li> Crear i configurar <strong>listeners</strong> amb <code>netca</code> i comprovar connexions</li>
    </ul>
  
    <h3> Altres competÃ¨ncies</h3>
    <ul>
      <li> Diferenciar entre <strong>Datawarehouse, RAC i base de dades dâ€™instÃ ncia Ãºnica</strong></li>
      <li> Localitzar fitxers principals: datafiles, logs, arxius de configuraciÃ³</li>
      <li> Comprendre el <strong>rol de lâ€™usuari instalÂ·lador</strong> i els permisos associats</li>
    </ul>
  
    <p>ğŸ“ Amb tots aquests coneixements, ja estÃ s preparat/ada per comenÃ§ar a treballar amb Oracle Database a nivell bÃ sic-mitjÃ !</p>
  </section>
  

  <section id="altres-recursos">
    <h2>CDB i PDBs</h2>
       <a href="https://github.com/EnriqueIborra/ASGBD/blob/03132b3f2c7c697f70e54ab7f9495aac08c0d610/UD1/ASGBD-UD1.2%20DB-CDB%20i%20PDB_v2.pdf" target="_blank">CDB i PDBs</a> 
    <h2>Ordres bÃ siques i primers errors</h2>
    <a href="https://github.com/EnriqueIborra/ASGBD/blob/2d8f9600385cfd520c1043e79bde7b7c9401f64b/UD1/ASGBD-UD1.3%20Ordres%20basiques%20i%20primers%20errors.pdf" target="_blank">Ordres bÃ siques i primers errors</a>
  </section>


</main>

<script>

  // Per poder copiar codi en el porta-retalls. S'ha de posar un botÃ³ en cada <pre>
      //  <div class="pre-container">
      //    <button class="copy-button">Copia Codi !</button>
  document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.copy-button');

    buttons.forEach(button => {
      button.addEventListener('click', function () {
        const code = this.nextElementSibling.innerText;
        navigator.clipboard.writeText(code).then(() => {
          this.innerText = ' âœ” Copiat!';
          setTimeout(() => this.innerText = 'Copia Codi !', 3000);
        });
      });
    });
  });

</script>

</body>
</html>
